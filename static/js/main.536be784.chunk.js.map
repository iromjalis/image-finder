{"version":3,"sources":["components/Modal/Modal.module.css","components/Searchbar/Searchbar.module.css","App.module.css","components/Button/Button.module.css","components/Searchbar/index.js","components/Searchbar/Searchbar.jsx","components/ImageGallery/index.js","components/ImageGallery/ImageGallery.jsx","components/Modal/Modal.jsx","components/Modal/index.js","components/ImageGalleryItem/index.js","components/ImageGalleryItem/ImageGalleryItem.jsx","components/Button/Button.jsx","service/api.js","App.js","index.js"],"names":["module","exports","Searchbar","state","query","props","handleChange","e","setState","currentTarget","value","handleSubmit","preventDefault","onSubmit","handleClearInput","className","s","this","variant","color","type","SearchFormInput","name","autoComplete","onClick","onInput","autoFocus","placeholder","PureComponent","ImageGallery","ModalOpenClick","console","log","target","children","id","modalRoot","document","querySelector","Modal","componentDidMount","window","addEventListener","handleKeyDown","componentWillUnmount","removeEventListener","code","onCloseModal","modalImg","createPortal","styles","Overlay","src","alt","ModalCloseBtn","ImageGalleryItem","showModal","images","onOpenModal","user","length","bgColor","title","size","map","previewURL","largeImageURL","width","height","Button","Btn","scrollTo","top","behavior","currentPage","pageSize","URL","axios","get","then","data","hits","App","isLoading","onChange","fetch","api","prevState","finally","handleToDown","body","scrollHeight","handleClickMoreBtn","dataset","source","prevProps","filter","Component","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.536be784.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3Lsc3\",\"Modal\":\"Modal_Modal__3180K\",\"ModalCloseBtn\":\"Modal_ModalCloseBtn__e-08E\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2OjKd\",\"SearchFormInput\":\"Searchbar_SearchFormInput__sqsi0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__eNl18\",\"App-logo\":\"App_App-logo__2NVmP\",\"App-logo-spin\":\"App_App-logo-spin__1VqlD\",\"App-header\":\"App_App-header__1c5SA\",\"App-link\":\"App_App-link__2Djrh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Btn\":\"Button_Btn__2Ke4o\"};","import Searchbar from './Searchbar';\r\n\r\nexport default Searchbar;\r\n","import React, { PureComponent } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport s from \"./Searchbar.module.css\";\r\n\r\nimport { Button } from \"@material-ui/core\";\r\nclass Searchbar extends PureComponent {\r\n  state = {\r\n    query: this.props.query,\r\n  };\r\n\r\n  handleChange = (e) => {\r\n    this.setState({ query: e.currentTarget.value });\r\n  };\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    this.props.onSubmit(this.state.query);\r\n  };\r\n  handleClearInput = () => {\r\n    this.setState({ query: \"\" });\r\n  };\r\n  render() {\r\n    return (\r\n      <header className={s.Searchbar}>\r\n        <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            type=\"submit\"\r\n            className=\"SearchForm-button\"\r\n          >\r\n            <span className=\"SearchForm-button-label\">Search</span>\r\n          </Button>\r\n\r\n          <input\r\n            color=\"primary\"\r\n            className={s.SearchFormInput}\r\n            type=\"text\"\r\n            name=\"query\"\r\n            value={this.state.query}\r\n            autoComplete=\"off\"\r\n            onClick={this.handleClearInput}\r\n            onInput={this.handleChange}\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            variant=\"contained\"\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n  query: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default Searchbar;\r\n","import ImageGallery from './ImageGallery';\r\n\r\nexport default ImageGallery;\r\n","import React, { PureComponent } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nclass ImageGallery extends PureComponent {\r\n  ModalOpenClick = (e) => {\r\n    console.log(e.target);\r\n    console.log(e.currentTarget);\r\n  };\r\n  render() {\r\n    const { children } = this.props;\r\n    return <ul id=\"imageGallery\">{children}</ul>;\r\n  }\r\n}\r\n\r\nImageGallery.propTypes = {\r\n  onOpenModal: PropTypes.func.isRequired,\r\n  children: PropTypes.node.isRequired,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import React, { PureComponent } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styles from \"./Modal.module.css\";\r\nimport { createPortal } from \"react-dom\";\r\n\r\nconst modalRoot = document.querySelector(\"#modal-root\");\r\nclass Modal extends PureComponent {\r\n  componentDidMount = () => {\r\n    window.addEventListener(\"keydown\", this.handleKeyDown);\r\n  };\r\n\r\n  componentWillUnmount = () => {\r\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\r\n  };\r\n\r\n  handleKeyDown = (e) => {\r\n    if (e.code === \"Escape\") {\r\n      this.props.onCloseModal();\r\n    }\r\n    if (e.target === e.currentTarget) {\r\n      this.props.onCloseModal();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { modalImg, onCloseModal } = this.props;\r\n    return createPortal(\r\n      <div className={styles.Overlay} onClick={this.handleKeyDown}>\r\n        <div className={styles.Modal}>\r\n          <img src={modalImg} alt=\"\" />\r\n          <button\r\n            type=\"button\"\r\n            className={styles.ModalCloseBtn}\r\n            onClick={onCloseModal}\r\n          >\r\n            x\r\n          </button>\r\n        </div>\r\n      </div>,\r\n      modalRoot\r\n    );\r\n  }\r\n}\r\n\r\nModal.propTypes = {\r\n  modalImg: PropTypes.string.isRequired,\r\n  onOpenModal: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Modal;\r\n","import Modal from './Modal';\r\n\r\nexport default Modal;\r\n","import ImageGalleryItem from './ImageGalleryItem';\r\n\r\nexport default ImageGalleryItem;\r\n","import React, { PureComponent } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport Modal from \"../Modal\";\r\n\r\nimport Loader from \"react-loader-spinner\";\r\n\r\nclass ImageGalleryItem extends PureComponent {\r\n  state = {\r\n    showModal: false,\r\n  };\r\n  render() {\r\n    const { images, onOpenModal } = this.props;\r\n    const { showModal, src, user } = this.state;\r\n    return (\r\n      <>\r\n        {images.length < 0 && (\r\n          <Loader\r\n            type=\"bubble-top\"\r\n            bgColor={\"#FFFFFF\"}\r\n            title={\"bubble-top\"}\r\n            size={100}\r\n          />\r\n        )}\r\n        {!showModal ? (\r\n          images.map(({ id, previewURL, largeImageURL, user }) => {\r\n            return (\r\n              <li key={id} onClick={onOpenModal}>\r\n                <img\r\n                  src={previewURL}\r\n                  alt={user}\r\n                  width=\"140\"\r\n                  height=\"100\"\r\n                  data-source={largeImageURL}\r\n                  data-title={user}\r\n                />\r\n              </li>\r\n            );\r\n          })\r\n        ) : (\r\n          <Modal>\r\n            <img src={src} alt={user} />\r\n          </Modal>\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n  onOpenModal: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import React from \"react\";\r\n\r\nimport styles from \"./Button.module.css\";\r\n\r\nconst Button = () => {\r\n  const handleClick = () => {\r\n    window.scrollTo({\r\n      top: 0,\r\n      behavior: \"smooth\",\r\n    });\r\n  };\r\n\r\n  return (\r\n    <button className={styles.Btn} onClick={handleClick}>\r\n      &#8593;\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default Button;\r\n","import axios from \"axios\";\r\n\r\nconst fetchImages = ({ currentPage, query, pageSize }) => {\r\n  const ApiKey = \"21072245-3acfda09a1d5bc65070e6b336\";\r\n  const URL = `https://pixabay.com/api/?\r\nq=${query}&page=${currentPage}&key=${ApiKey}&image_type=photo&orientation=horizontal&per_page=${pageSize}`;\r\n\r\n  return axios.get(URL).then(({ data }) => data.hits);\r\n};\r\n\r\nexport default { fetchImages };\r\n","import React, { Component } from \"react\";\r\n\r\nimport styles from \"./App.module.css\";\r\nimport Searchbar from \"./components/Searchbar\";\r\nimport ImageGallery from \"./components/ImageGallery\";\r\nimport ImageGalleryItem from \"./components/ImageGalleryItem\";\r\nimport Modal from \"./components/Modal\";\r\nimport Button from \"./components/Button/Button\";\r\n\r\nimport Loader from \"react-loader-spinner\";\r\n\r\nimport api from \"./service/api.js\";\r\n\r\nclass App extends Component {\r\n  state = {\r\n    query: \"\",\r\n    currentPage: 1,\r\n    pageSize: 10,\r\n    images: [],\r\n    showModal: false,\r\n    isLoading: false,\r\n    modalImg: \"\",\r\n    alt: \"\",\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevState.query !== this.state.query) {\r\n      this.fetch();\r\n    }\r\n  }\r\n\r\n  onChange = (query) => {\r\n    this.setState({ query, currentPage: 1, images: [] });\r\n  };\r\n\r\n  fetch = () => {\r\n    this.setState({ isLoading: true });\r\n\r\n    api\r\n      .fetchImages(this.state)\r\n      .then((images) => {\r\n        this.setState((prevState) => ({\r\n          images: [...prevState.images, ...images],\r\n          currentPage: prevState.currentPage + 1,\r\n        }));\r\n      })\r\n      .finally(() => {\r\n        this.setState({ isLoading: false });\r\n\r\n        this.handleToDown();\r\n      });\r\n  };\r\n\r\n  handleToDown = () => {\r\n    window.scrollTo({ top: document.body.scrollHeight, behavior: \"smooth\" });\r\n  };\r\n\r\n  handleClickMoreBtn = () => {\r\n    this.setState((prevState) => ({\r\n      ...prevState,\r\n      currentPage: prevState.currentPage + 1,\r\n    }));\r\n  };\r\n\r\n  onCloseModal = (e) => {\r\n    this.setState((prevState) => ({\r\n      showModal: !prevState.showModal,\r\n    }));\r\n  };\r\n\r\n  onOpenModal = (e) => {\r\n    this.setState((prevState) => ({\r\n      modalImg: e.target.dataset.source || \"\",\r\n      alt: e.target.dataset.title,\r\n    }));\r\n    this.onCloseModal();\r\n  };\r\n\r\n  render() {\r\n    const { showModal, filter, images, isLoading, query, modalImg, alt } =\r\n      this.state;\r\n    return (\r\n      <div className={styles.App}>\r\n        <Searchbar onSubmit={this.onChange} query={query} />\r\n        {images && isLoading && (\r\n          <Loader type=\"TailSpin\" color=\"#00BFFF\" height={80} width={80} />\r\n        )}\r\n        <ImageGallery onOpenModal={this.onOpenModal}>\r\n          <ImageGalleryItem\r\n            filter={filter}\r\n            images={images}\r\n            onOpenModal={this.onOpenModal}\r\n          />\r\n        </ImageGallery>\r\n        {images.length > 0 && (\r\n          <button onClick={this.fetch}>Load more...</button>\r\n        )}\r\n\r\n        {showModal && (\r\n          <Modal\r\n            onOpenModal={this.onOpenModal}\r\n            modalImg={modalImg}\r\n            onCloseModal={this.onCloseModal}\r\n          >\r\n            <img src={modalImg} alt={alt} />\r\n          </Modal>\r\n        )}\r\n        <Button />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\n"],"sourceRoot":""}