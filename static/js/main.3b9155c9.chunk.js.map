{"version":3,"sources":["components/Modal/Modal.module.css","App.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.jsx","components/Searchbar/index.js","components/ImageGallery/ImageGallery.jsx","components/ImageGallery/index.js","components/Modal/Modal.jsx","components/Modal/index.js","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGalleryItem/index.js","components/Button/Button.jsx","App.js","index.js"],"names":["module","exports","Searchbar","state","query","handleChange","e","setState","currentTarget","value","handleSubmit","preventDefault","props","onSubmit","handleClearInput","className","this","type","name","autoComplete","onClick","onInput","autoFocus","placeholder","PureComponent","defaultProps","ImageGallery","hasError","ModalOpenClick","console","log","target","children","onOpenModal","id","modalRoot","document","querySelector","Modal","componentDidMount","window","addEventListener","handleKeyDown","componentWillUnmount","removeEventListener","code","modalImg","createPortal","styles","Overlay","src","alt","ModalCloseBtn","ImageGalleryItem","showModal","images","user","length","bgColor","title","size","map","previewURL","largeImageURL","width","height","Button","handleClick","scrollTo","top","behavior","Btn","App","currentPage","pageSize","isLoading","onChange","fetch","URL","axios","get","then","data","hits","prevState","finally","scrollHeight","left","handleClickMoreBtn","dataset","source","prevProps","filter","color","Component","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.3b9155c9.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3Lsc3\",\"Modal\":\"Modal_Modal__3180K\",\"ModalCloseBtn\":\"Modal_ModalCloseBtn__e-08E\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__eNl18\",\"App-logo\":\"App_App-logo__2NVmP\",\"App-logo-spin\":\"App_App-logo-spin__1VqlD\",\"App-header\":\"App_App-header__1c5SA\",\"App-link\":\"App_App-link__2Djrh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Btn\":\"Button_Btn__2Ke4o\"};","import React, { PureComponent } from \"react\";\nimport PropTypes from \"prop-types\";\n//import { Test } from './Searchbar.styles';\n\nclass Searchbar extends PureComponent {\n  state = {\n    query: \"\",\n  };\n\n  handleChange = (e) => {\n    this.setState({ query: e.currentTarget.value });\n  };\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    this.props.onSubmit(this.state.query);\n  };\n  handleClearInput = () => {\n    this.setState({ query: \"\" });\n  };\n  render() {\n    return (\n      <header className=\"Searchbar\">\n        <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className=\"SearchForm-button\">\n            <span className=\"SearchForm-button-label\">Search</span>\n          </button>\n\n          <input\n            className=\"SearchForm-input\"\n            type=\"text\"\n            name=\"query\"\n            value={this.state.query}\n            autoComplete=\"off\"\n            onClick={this.handleClearInput}\n            onInput={this.handleChange}\n            autoFocus\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nSearchbar.propTypes = {\n  // bla: PropTypes.string,\n};\n\nSearchbar.defaultProps = {\n  // bla: 'test',\n};\n\nexport default Searchbar;\n","import Searchbar from './Searchbar';\n\nexport default Searchbar;\n","import React, { PureComponent } from \"react\";\nimport PropTypes from \"prop-types\";\n//import { Test } from './ImageGallery.styles';\n\nclass ImageGallery extends PureComponent {\n  state = {\n    hasError: false,\n  };\n\n  ModalOpenClick = (e) => {\n    console.log(e.target);\n    console.log(e.currentTarget);\n  };\n  render() {\n    const { children, onOpenModal } = this.props;\n    return <ul id=\"imageGallery\">{children}</ul>;\n  }\n}\n\nImageGallery.propTypes = {\n  // bla: PropTypes.string,\n};\n\nImageGallery.defaultProps = {\n  // bla: 'test',\n};\n\nexport default ImageGallery;\n","import ImageGallery from './ImageGallery';\n\nexport default ImageGallery;\n","import React, { PureComponent } from \"react\";\nimport PropTypes from \"prop-types\";\nimport styles from \"./Modal.module.css\";\nimport { createPortal } from \"react-dom\";\n\nconst modalRoot = document.querySelector(\"#modal-root\");\nclass Modal extends PureComponent {\n  componentDidMount = () => {\n    window.addEventListener(\"keydown\", this.handleKeyDown);\n  };\n\n  componentWillUnmount = () => {\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\n  };\n\n  handleKeyDown = (e) => {\n    if (e.code === \"Escape\") {\n      this.props.onOpenModal();\n    } else if (e.target === e.currentTarget) {\n      this.props.onOpenModal();\n    }\n  };\n\n  render() {\n    const { modalImg, onOpenModal } = this.props;\n    return createPortal(\n      <div className={styles.Overlay}>\n        <div className={styles.Modal}>\n          <img src={modalImg} alt=\"No photo\" />\n          <button\n            type=\"button\"\n            className={styles.ModalCloseBtn}\n            onClick={onOpenModal}\n          >\n            x\n          </button>\n        </div>\n      </div>,\n      modalRoot\n    );\n  }\n}\n\nModal.propTypes = {\n  // bla: PropTypes.string,\n};\n\nModal.defaultProps = {\n  // bla: 'test',\n};\n\nexport default Modal;\n","import Modal from './Modal';\n\nexport default Modal;\n","import React, { PureComponent } from \"react\";\nimport PropTypes from \"prop-types\";\n//import { Test } from './ImageGalleryItem.styles';\n// import ApiService from \"./service/ApiService/ApiService\";\nimport axios from \"axios\";\nimport Modal from \"../Modal\";\n\nimport Loader from \"react-loader-spinner\";\n// const ApiKey = \"21072245-3acfda09a1d5bc65070e6b336\";\n// const URL = `https://pixabay.com/api/?q=${query}&page=${currentPage}&key=${ApiKey}&image_type=photo&orientation=horizontal&per_page=${pageSize}`;\n\nclass ImageGalleryItem extends PureComponent {\n  state = {\n    showModal: false,\n  };\n  render() {\n    const { images, onOpenModal } = this.props;\n    const { showModal, src, user } = this.state;\n    return (\n      <>\n        {images.length < 0 && (\n          <Loader\n            type=\"bubble-top\"\n            bgColor={\"#FFFFFF\"}\n            title={\"bubble-top\"}\n            size={100}\n          />\n        )}\n        {!showModal ? (\n          images.map(({ id, previewURL, largeImageURL, user }) => {\n            return (\n              <li key={id} onClick={onOpenModal}>\n                <img\n                  src={previewURL}\n                  alt={user}\n                  width=\"140\"\n                  height=\"100\"\n                  data-source={largeImageURL}\n                  data-title={user}\n                />\n              </li>\n            );\n          })\n        ) : (\n          <Modal>\n            <img src={src} alt={user} />\n          </Modal>\n        )}\n      </>\n    );\n  }\n}\n\nImageGalleryItem.propTypes = {\n  // bla: PropTypes.string,\n};\n\nImageGalleryItem.defaultProps = {\n  // bla: 'test',\n};\n\nexport default ImageGalleryItem;\n","import ImageGalleryItem from './ImageGalleryItem';\n\nexport default ImageGalleryItem;\n","import React, { PureComponent } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport styles from \"./Button.module.css\";\n\nclass Button extends PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      hasError: false,\n    };\n  }\n\n  handleClick = () => {\n    window.scrollTo({\n      top: 0,\n      behavior: \"smooth\",\n    });\n  };\n\n  render() {\n    if (this.state.hasError) {\n      return <h1>Something went wrong.</h1>;\n    }\n    return (\n      <button className={styles.Btn} onClick={this.handleClick}>\n        &#8593;\n      </button>\n    );\n  }\n}\n\nButton.propTypes = {\n  // bla: PropTypes.string,\n};\n\nButton.defaultProps = {\n  // bla: 'test',\n};\n\nexport default Button;\n","import React, { Component } from \"react\";\n\nimport styles from \"./App.module.css\";\nimport Searchbar from \"./components/Searchbar\";\nimport ImageGallery from \"./components/ImageGallery\";\nimport ImageGalleryItem from \"./components/ImageGalleryItem\";\nimport Modal from \"./components/Modal\";\nimport Button from \"./components/Button/Button\";\n\nimport axios from \"axios\";\nimport Loader from \"react-loader-spinner\";\n\nimport apiService from \"./service/apiService/apiService\";\n\n// import { fetchImages } from \"./service/ApiService/ApiService\";\n\nclass App extends Component {\n  state = {\n    query: \"\",\n    currentPage: 1,\n    pageSize: 5,\n    images: [],\n    showModal: false,\n    isLoading: false,\n    modalImg: \"\",\n    alt: \"\",\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.query !== this.state.query) {\n      this.fetch();\n    }\n  }\n\n  onChange = (query) => {\n    this.setState({ query, currentPage: 1, images: [] });\n  };\n  fetch = () => {\n    const { currentPage = 1, pageSize = 5, query = \"cat\" } = this.state;\n\n    const options = {\n      currentPage,\n      pageSize,\n      query,\n    };\n    const ApiKey = \"21072245-3acfda09a1d5bc65070e6b336\";\n    const URL = `https://pixabay.com/api/?q=${query}&page=${currentPage}&key=${ApiKey}&image_type=photo&orientation=horizontal&per_page=${pageSize}`;\n\n    this.setState({ isLoading: true });\n\n    axios\n      .get(URL)\n      .then(({ data }) => data.hits)\n      .then((images) => {\n        this.setState((prevState) => ({\n          images: [...prevState.images, ...images],\n          currentPage: prevState.currentPage + 1,\n        }));\n      })\n      .finally(() => {\n        this.setState({ isLoading: false });\n\n        window.scrollTo({\n          top: document.querySelector(\"#root\").scrollHeight,\n          left: 0,\n          behavior: \"smooth\",\n        });\n      });\n  };\n  handleClickMoreBtn = () => {\n    this.setState((prevState) => ({\n      ...prevState,\n      currentPage: prevState.currentPage + 1,\n    }));\n  };\n\n  onOpenModal = (e) => {\n    this.setState((prevState) => ({\n      modalImg: e.target.dataset.source,\n      alt: e.target.dataset.title,\n      showModal: !prevState.showModal,\n    }));\n  };\n\n  render() {\n    const { showModal, filter, images, isLoading, query, modalImg } =\n      this.state;\n    return (\n      <div className={styles.App}>\n        <Searchbar onSubmit={this.onChange} query={query} />\n        {images && isLoading && (\n          <Loader type=\"TailSpin\" color=\"#00BFFF\" height={80} width={80} />\n        )}\n        <ImageGallery onOpenModal={this.onOpenModal}>\n          <ImageGalleryItem\n            filter={filter}\n            images={images}\n            onOpenModal={this.onOpenModal}\n          />\n        </ImageGallery>\n        {images.length > 0 && (\n          <button onClick={this.fetch}>Load more...</button>\n        )}\n\n        {showModal && (\n          <Modal onOpenModal={this.onOpenModal} modalImg={modalImg} />\n        )}\n        <Button />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n"],"sourceRoot":""}